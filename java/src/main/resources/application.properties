# Server Performance Configuration
server.port=8000
server.servlet.context-path=/

# Tomcat Performance Tuning
server.tomcat.threads.max=400
server.tomcat.threads.min-spare=50
server.tomcat.accept-count=1000
server.tomcat.max-connections=10000
server.tomcat.connection-timeout=5000
server.tomcat.keep-alive-timeout=60000
server.tomcat.max-keep-alive-requests=1000

# HTTP/2 Support
server.http2.enabled=true

# Compression
server.compression.enabled=true
server.compression.mime-types=application/json,text/html,text/xml,text/plain
server.compression.min-response-size=1KB

# Jackson Performance
spring.jackson.generator.write-numbers-as-strings=false
spring.jackson.default-property-inclusion=NON_NULL
spring.jackson.serialization.write-dates-as-timestamps=false

# JPA/Hibernate Optimizations (if needed later)
spring.jpa.open-in-view=false
spring.jpa.hibernate.ddl-auto=none

# Caching Configuration
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=10000,expireAfterWrite=1h

# Logging Performance
logging.level.com.example.pingpong=WARN
logging.level.org.springframework.web=WARN
logging.level.org.apache.coyote=WARN
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# Actuator for monitoring
management.endpoints.web.exposure.include=health,metrics,prometheus
management.endpoint.health.show-details=never
management.metrics.export.prometheus.enabled=true

# Production Profile Specific Settings
---
spring.config.activate.on-profile=production

# Production logging - async for performance
logging.level.com.example.pingpong=ERROR
logging.level.root=WARN

# More aggressive caching in production
spring.cache.caffeine.spec=maximumSize=50000,expireAfterWrite=6h

# Production JVM optimizations
server.tomcat.additional-tld-skip-patterns=*.jar
